{% extends "admin/base.html" %}
{% block title%}{% endblock %}

{% block body %}
<div class="container">
    <h1>Admin Dashboard</h1>

    <!-- Nav tabs -->
    <ul id="admin-tabs" class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#users" aria-controls="users" role="tab" data-toggle="tab">Users</a></li>
        <li role="presentation"><a href="#posts" aria-controls="posts" role="tab" data-toggle="tab">Posts</a></li>
    </ul>

    {% macro load_gif(index) %}
        {% with img=index %}
            {% include "admin/under-development.html"%}
        {% endwith %}
    {% endmacro %}

    <!-- Tab panes -->
    <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="users">
            {% include "admin/user/list.html" %}
        </div>
        <div role="tabpanel" class="tab-pane" id="posts">
            {{ load_gif(2) }}
        </div>
    </div>
</div>
{% endblock %}


{% block extrajs %}
<script type="text/javascript">
$('#admin-tabs a').click(function (e) {
    e.preventDefault();
    var action = $(this).attr('aria-controls');
    console.info("Toggle \"" + $(this).text() + "\"");
    // show tab
    $(this).tab('show')
});

// Javascript to enable link to tab
var url = document.location.toString();
if (url.match('#')) {
    $('#admin-tabs a[href="#' + url.split('#')[1] + '"]').tab('show');
}

</script>
{% endblock %}